<html>
  <body>
    <h1>jqplot test</h1>

    <script language="javascript" type="text/javascript" src="public/jqplot/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="public/jqplot/jquery.jqplot.min.js"></script>
    <script language="javascript" type="text/javascript" src="public/jqplot/plugins/jqplot.barRenderer.min.js"></script>
    <script language="javascript" type="text/javascript" src="public/jqplot/plugins/jqplot.categoryAxisRenderer.min.js"></script>
    <link rel="stylesheet" type="text/css" href="public/jqplot/jquery.jqplot.css" />
    
    <div id="chart1" style="height:400px;width:400px; "></div>

    <script>
$(document).ready(function(){
    
    var ajaxDataRenderer = function(url, plot) {
        var ret = null;
        $.ajax({
            // have to use synchronous here, else returns before data is fetched
            async: false,
            url: url,
            dataType:'json',
            success: function(data) {
                ret = $.parseJSON(data['elforbrukning_hours']);
            }
        });
        return ret;
    };
 
    var jsonurl = "http://rpihome.ermhawi.com:4730/script/elforbrukning_hours";
//    jsonurl = "jsondata.txt";

    plo12 = $.jqplot('chart1', jsonurl,{
        title: 'AJAX JSON Data Renderer',
        dataRenderer: ajaxDataRenderer
    });
});
    </script>

  </body>
</html>
